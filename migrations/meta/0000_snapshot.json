{
  "id": "7538fcf1-dbe3-45e6-aa07-1fe60cd6fb56",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.admin_requests": {
      "name": "admin_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "attachment_path": {
          "name": "attachment_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "request_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'Pending Finance Approval'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "finance_approved": {
          "name": "finance_approved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "request_type": {
          "name": "request_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trip_request_id": {
          "name": "trip_request_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "requested_amount": {
          "name": "requested_amount",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "target_type": {
          "name": "target_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_id": {
          "name": "target_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notified": {
          "name": "notified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "status_history": {
          "name": "status_history",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::json"
        },
        "last_updated_by": {
          "name": "last_updated_by",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_updated_at": {
          "name": "last_updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "paid": {
          "name": "paid",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "paid_by": {
          "name": "paid_by",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "admin_requests_user_id_users_id_fk": {
          "name": "admin_requests_user_id_users_id_fk",
          "tableFrom": "admin_requests",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "admin_requests_trip_request_id_trip_requests_id_fk": {
          "name": "admin_requests_trip_request_id_trip_requests_id_fk",
          "tableFrom": "admin_requests",
          "tableTo": "trip_requests",
          "columnsFrom": [
            "trip_request_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "admin_requests_last_updated_by_users_id_fk": {
          "name": "admin_requests_last_updated_by_users_id_fk",
          "tableFrom": "admin_requests",
          "tableTo": "users",
          "columnsFrom": [
            "last_updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "admin_requests_paid_by_users_id_fk": {
          "name": "admin_requests_paid_by_users_id_fk",
          "tableFrom": "admin_requests",
          "tableTo": "users",
          "columnsFrom": [
            "paid_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.audit_logs": {
      "name": "audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "details": {
          "name": "details",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "audit_logs_user_id_users_id_fk": {
          "name": "audit_logs_user_id_users_id_fk",
          "tableFrom": "audit_logs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.departments": {
      "name": "departments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "budget": {
          "name": "budget",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "monthly_incident_budget": {
          "name": "monthly_incident_budget",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "monthly_budget_bonus": {
          "name": "monthly_budget_bonus",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "monthly_budget_bonus_reset_date": {
          "name": "monthly_budget_bonus_reset_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "manager_id": {
          "name": "manager_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "second_manager_id": {
          "name": "second_manager_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "third_manager_id": {
          "name": "third_manager_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "parent_department_id": {
          "name": "parent_department_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "departments_manager_id_users_id_fk": {
          "name": "departments_manager_id_users_id_fk",
          "tableFrom": "departments",
          "tableTo": "users",
          "columnsFrom": [
            "manager_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "departments_second_manager_id_users_id_fk": {
          "name": "departments_second_manager_id_users_id_fk",
          "tableFrom": "departments",
          "tableTo": "users",
          "columnsFrom": [
            "second_manager_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "departments_third_manager_id_users_id_fk": {
          "name": "departments_third_manager_id_users_id_fk",
          "tableFrom": "departments",
          "tableTo": "users",
          "columnsFrom": [
            "third_manager_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "departments_name_unique": {
          "name": "departments_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.distances": {
      "name": "distances",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "from_site_id": {
          "name": "from_site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "to_site_id": {
          "name": "to_site_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "driving_distance": {
          "name": "driving_distance",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "estimated_time": {
          "name": "estimated_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "route_type": {
          "name": "route_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'fastest'"
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "distances_from_site_id_sites_id_fk": {
          "name": "distances_from_site_id_sites_id_fk",
          "tableFrom": "distances",
          "tableTo": "sites",
          "columnsFrom": [
            "from_site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "distances_to_site_id_sites_id_fk": {
          "name": "distances_to_site_id_sites_id_fk",
          "tableFrom": "distances",
          "tableTo": "sites",
          "columnsFrom": [
            "to_site_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.km_rates": {
      "name": "km_rates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "rate_value": {
          "name": "rate_value",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "effective_from": {
          "name": "effective_from",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "effective_to": {
          "name": "effective_to",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_by": {
          "name": "created_by",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "km_rates_created_by_users_id_fk": {
          "name": "km_rates_created_by_users_id_fk",
          "tableFrom": "km_rates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.project_assignments": {
      "name": "project_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "project_assignments_user_id_users_id_fk": {
          "name": "project_assignments_user_id_users_id_fk",
          "tableFrom": "project_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "project_assignments_project_id_projects_id_fk": {
          "name": "project_assignments_project_id_projects_id_fk",
          "tableFrom": "project_assignments",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.project_budget_history": {
      "name": "project_budget_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "transaction_type": {
          "name": "transaction_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "running_balance": {
          "name": "running_balance",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "reference_id": {
          "name": "reference_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reference_type": {
          "name": "reference_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "project_budget_history_project_id_projects_id_fk": {
          "name": "project_budget_history_project_id_projects_id_fk",
          "tableFrom": "project_budget_history",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "project_budget_history_created_by_users_id_fk": {
          "name": "project_budget_history_created_by_users_id_fk",
          "tableFrom": "project_budget_history",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.project_documents": {
      "name": "project_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "uploader_id": {
          "name": "uploader_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "document_type": {
          "name": "document_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "upload_date": {
          "name": "upload_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "project_documents_project_id_projects_id_fk": {
          "name": "project_documents_project_id_projects_id_fk",
          "tableFrom": "project_documents",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "project_documents_uploader_id_users_id_fk": {
          "name": "project_documents_uploader_id_users_id_fk",
          "tableFrom": "project_documents",
          "tableTo": "users",
          "columnsFrom": [
            "uploader_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.projects": {
      "name": "projects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "budget": {
          "name": "budget",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "original_budget": {
          "name": "original_budget",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "budget_adjustments": {
          "name": "budget_adjustments",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "manager_id": {
          "name": "manager_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "second_manager_id": {
          "name": "second_manager_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "department_id": {
          "name": "department_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "projects_manager_id_users_id_fk": {
          "name": "projects_manager_id_users_id_fk",
          "tableFrom": "projects",
          "tableTo": "users",
          "columnsFrom": [
            "manager_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projects_second_manager_id_users_id_fk": {
          "name": "projects_second_manager_id_users_id_fk",
          "tableFrom": "projects",
          "tableTo": "users",
          "columnsFrom": [
            "second_manager_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projects_department_id_departments_id_fk": {
          "name": "projects_department_id_departments_id_fk",
          "tableFrom": "projects",
          "tableTo": "departments",
          "columnsFrom": [
            "department_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "projects_name_unique": {
          "name": "projects_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sites": {
      "name": "sites",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "abbreviation": {
          "name": "abbreviation",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "english_name": {
          "name": "english_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "city": {
          "name": "city",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "region": {
          "name": "region",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gps_lat": {
          "name": "gps_lat",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "gps_lng": {
          "name": "gps_lng",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "site_type": {
          "name": "site_type",
          "type": "site_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'Other'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sites_abbreviation_unique": {
          "name": "sites_abbreviation_unique",
          "nullsNotDistinct": false,
          "columns": [
            "abbreviation"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.system_settings": {
      "name": "system_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "setting_key": {
          "name": "setting_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "setting_value": {
          "name": "setting_value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "system_settings_updated_by_users_id_fk": {
          "name": "system_settings_updated_by_users_id_fk",
          "tableFrom": "system_settings",
          "tableTo": "users",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "system_settings_setting_key_unique": {
          "name": "system_settings_setting_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "setting_key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.trip_requests": {
      "name": "trip_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "department_id": {
          "name": "department_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "trip_date": {
          "name": "trip_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "origin": {
          "name": "origin",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "destination": {
          "name": "destination",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "purpose": {
          "name": "purpose",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cost": {
          "name": "cost",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "kilometers": {
          "name": "kilometers",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "original_distance": {
          "name": "original_distance",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "km_rate_id": {
          "name": "km_rate_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "km_rate_value": {
          "name": "km_rate_value",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "km_rate": {
          "name": "km_rate",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "cost_calculated_from_km": {
          "name": "cost_calculated_from_km",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "cost_method": {
          "name": "cost_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'direct'"
        },
        "cost_updated_at": {
          "name": "cost_updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cost_updated_by": {
          "name": "cost_updated_by",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "home_deduction_km": {
          "name": "home_deduction_km",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "is_home_trip_origin": {
          "name": "is_home_trip_origin",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_home_trip_destination": {
          "name": "is_home_trip_destination",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "original_distance_before_deduction": {
          "name": "original_distance_before_deduction",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "user_home_gps_used": {
          "name": "user_home_gps_used",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attachment_path": {
          "name": "attachment_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "request_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'Pending Department Approval'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "department_manager_approved": {
          "name": "department_manager_approved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "department_second_approved": {
          "name": "department_second_approved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "project_manager_approved": {
          "name": "project_manager_approved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "project_second_approved": {
          "name": "project_second_approved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "finance_approved": {
          "name": "finance_approved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notified": {
          "name": "notified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "trip_type": {
          "name": "trip_type",
          "type": "trip_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "urgency_type": {
          "name": "urgency_type",
          "type": "urgency_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "ticket_no": {
          "name": "ticket_no",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attachment_required": {
          "name": "attachment_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "status_history": {
          "name": "status_history",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::json"
        },
        "last_updated_by": {
          "name": "last_updated_by",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_updated_at": {
          "name": "last_updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "paid": {
          "name": "paid",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "paid_by": {
          "name": "paid_by",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "trip_requests_user_id_users_id_fk": {
          "name": "trip_requests_user_id_users_id_fk",
          "tableFrom": "trip_requests",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_requests_department_id_departments_id_fk": {
          "name": "trip_requests_department_id_departments_id_fk",
          "tableFrom": "trip_requests",
          "tableTo": "departments",
          "columnsFrom": [
            "department_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_requests_project_id_projects_id_fk": {
          "name": "trip_requests_project_id_projects_id_fk",
          "tableFrom": "trip_requests",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_requests_km_rate_id_km_rates_id_fk": {
          "name": "trip_requests_km_rate_id_km_rates_id_fk",
          "tableFrom": "trip_requests",
          "tableTo": "km_rates",
          "columnsFrom": [
            "km_rate_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_requests_cost_updated_by_users_id_fk": {
          "name": "trip_requests_cost_updated_by_users_id_fk",
          "tableFrom": "trip_requests",
          "tableTo": "users",
          "columnsFrom": [
            "cost_updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_requests_last_updated_by_users_id_fk": {
          "name": "trip_requests_last_updated_by_users_id_fk",
          "tableFrom": "trip_requests",
          "tableTo": "users",
          "columnsFrom": [
            "last_updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "trip_requests_paid_by_users_id_fk": {
          "name": "trip_requests_paid_by_users_id_fk",
          "tableFrom": "trip_requests",
          "tableTo": "users",
          "columnsFrom": [
            "paid_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "company_number": {
          "name": "company_number",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "department": {
          "name": "department",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "home_address": {
          "name": "home_address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "user_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'Employee'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "direct_manager_name": {
          "name": "direct_manager_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "direct_cost_entry_permission": {
          "name": "direct_cost_entry_permission",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "home_location": {
          "name": "home_location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_company_number_unique": {
          "name": "users_company_number_unique",
          "nullsNotDistinct": false,
          "columns": [
            "company_number"
          ]
        },
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        },
        "users_username_unique": {
          "name": "users_username_unique",
          "nullsNotDistinct": false,
          "columns": [
            "username"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.workflow_steps": {
      "name": "workflow_steps",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "trip_request_id": {
          "name": "trip_request_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "step_order": {
          "name": "step_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "step_type": {
          "name": "step_type",
          "type": "workflow_step_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "approver_id": {
          "name": "approver_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "approver_name": {
          "name": "approver_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "workflow_step_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'Pending'"
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "workflow_steps_trip_request_id_trip_requests_id_fk": {
          "name": "workflow_steps_trip_request_id_trip_requests_id_fk",
          "tableFrom": "workflow_steps",
          "tableTo": "trip_requests",
          "columnsFrom": [
            "trip_request_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_steps_approver_id_users_id_fk": {
          "name": "workflow_steps_approver_id_users_id_fk",
          "tableFrom": "workflow_steps",
          "tableTo": "users",
          "columnsFrom": [
            "approver_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "workflow_steps_approved_by_users_id_fk": {
          "name": "workflow_steps_approved_by_users_id_fk",
          "tableFrom": "workflow_steps",
          "tableTo": "users",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.cost_method_type": {
      "name": "cost_method_type",
      "schema": "public",
      "values": [
        "direct",
        "km",
        "destination"
      ]
    },
    "public.request_type": {
      "name": "request_type",
      "schema": "public",
      "values": [
        "Trip",
        "Administrative"
      ]
    },
    "public.user_role": {
      "name": "user_role",
      "schema": "public",
      "values": [
        "Employee",
        "Manager",
        "Finance",
        "Admin"
      ]
    },
    "public.site_type": {
      "name": "site_type",
      "schema": "public",
      "values": [
        "Hospital",
        "Comprehensive clinic",
        "Primary Clinic",
        "Directory",
        "Other"
      ]
    },
    "public.request_status": {
      "name": "request_status",
      "schema": "public",
      "values": [
        "Pending Department Approval",
        "Pending Project Approval",
        "Pending Finance Approval",
        "Approved",
        "Rejected",
        "Paid",
        "Cancelled"
      ]
    },
    "public.trip_type": {
      "name": "trip_type",
      "schema": "public",
      "values": [
        "Ticket",
        "Planned",
        "Urgent"
      ]
    },
    "public.urgency_type": {
      "name": "urgency_type",
      "schema": "public",
      "values": [
        "Regular",
        "Urgent"
      ]
    },
    "public.workflow_step_status": {
      "name": "workflow_step_status",
      "schema": "public",
      "values": [
        "Pending",
        "Approved",
        "Rejected",
        "Skipped"
      ]
    },
    "public.workflow_step_type": {
      "name": "workflow_step_type",
      "schema": "public",
      "values": [
        "Department Manager",
        "Second Department Manager",
        "Tertiary Department Manager",
        "Project Manager",
        "Second Project Manager",
        "Finance Approval",
        "Admin Review"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}